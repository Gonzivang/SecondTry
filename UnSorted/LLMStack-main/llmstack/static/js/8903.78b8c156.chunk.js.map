{"version":3,"file":"static/js/8903.78b8c156.chunk.js","mappings":"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","sources":["components/datasource/DataSourceSelector.jsx","components/MuiCustomSelect.jsx","components/ThemedJsonForm.jsx","components/form/GdriveFilePicker.jsx","components/form/WebpageURLExtractorWidget.jsx","components/datasource/AddDataSourceModal.jsx","components/form/DropzoneFileWidget.jsx","data/atoms.js","data/axios.js","data/init.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Button, Select } from \"antd\";\nimport { useRecoilValue } from \"recoil\";\nimport { dataSourcesState, orgDataSourcesState } from \"../../data/atoms\";\nimport { FolderAddOutlined } from \"@ant-design/icons\";\nimport { AddDataSourceModal } from \"./AddDataSourceModal\";\n\nexport function DataSourceSelector(props) {\n  const dataSources = useRecoilValue(dataSourcesState);\n  const orgDataSources = useRecoilValue(orgDataSourcesState);\n  const [showAddDataSourceModal, setShowAddDataSourceModal] = useState(false);\n  const uniqueDataSources = dataSources.concat(\n    orgDataSources.filter(\n      (orgDataSource) =>\n        !dataSources.some(\n          (dataSource) => dataSource.uuid === orgDataSource.uuid,\n        ),\n    ),\n  );\n\n  return (\n    <div style={{ width: \"100%\", display: \"flex\" }}>\n      <Select\n        style={{\n          width: \"auto\",\n          textAlign: \"left\",\n          flex: 1,\n          borderColor: \"#000\",\n        }}\n        value={props.value}\n        mode=\"multiple\"\n        options={uniqueDataSources.map((dataSource) => ({\n          label: dataSource.name,\n          value: dataSource.uuid,\n        }))}\n        placeholder=\"Select a datasource\"\n        status=\"warning\"\n        onChange={(value) => props.onChange(value)}\n      />\n      <Button\n        onClick={() => setShowAddDataSourceModal(true)}\n        style={{ backgroundColor: \"#6287ac\", color: \"#fed766\" }}\n      >\n        <FolderAddOutlined />\n      </Button>\n      <AddDataSourceModal\n        open={showAddDataSourceModal}\n        handleCancelCb={() => setShowAddDataSourceModal(false)}\n        dataSourceAddedCb={(dataSource) => props.onChange(dataSource.uuid)}\n      />\n    </div>\n  );\n}\n","import { Autocomplete, TextField } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\n\nexport default function MuiCustomSelect(props) {\n  const [inputValue, setInputValue] = useState(\n    props.value || props?.schema?.default || \"\",\n  );\n  const [options, setOptions] = useState(\n    (\n      props?.options?.enumOptions ||\n      props?.uiSchema?.[\"ui:options\"]?.[\"enumOptions\"] ||\n      []\n    ).map((o) => o.value),\n  );\n\n  useEffect(() => {\n    setInputValue(props.value);\n  }, [props.value]);\n\n  return (\n    <Autocomplete\n      options={options}\n      noOptionsText=\"Enter to create a new option\"\n      getOptionLabel={(option) => {\n        return option;\n      }}\n      defaultValue={props.value || props?.schema?.default || options[0] || \"\"}\n      onInputChange={(e, newValue) => {\n        setInputValue(newValue);\n      }}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          label=\"Select\"\n          variant=\"standard\"\n          onKeyDown={(e) => {\n            if (\n              e.key === \"Enter\" &&\n              options.findIndex((o) => o === inputValue) === -1\n            ) {\n              setOptions((o) => o.concat(inputValue));\n            }\n          }}\n        />\n      )}\n      onChange={(e, newValue) => {\n        props.onChange(newValue);\n      }}\n    />\n  );\n}\n","import Form from \"@rjsf/mui\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport { getTemplate, getUiOptions } from \"@rjsf/utils\";\nimport {\n  FormControl,\n  FormHelperText,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ImageList,\n  ImageListItem,\n  Chip,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport { DataSourceSelector } from \"./datasource/DataSourceSelector\";\nimport MuiCustomSelect from \"./MuiCustomSelect\";\nimport FileUploadWidget from \"./form/DropzoneFileWidget\";\n\nconst defaultTheme = createTheme({\n  spacing: 2,\n  typography: {\n    fontSize: 12,\n  },\n  palette: {\n    slider: {\n      main: \"#97afcf\",\n    },\n  },\n  components: {\n    MuiTextField: {\n      defaultProps: {\n        variant: \"outlined\",\n      },\n      styleOverrides: {\n        root: {\n          \"& .MuiOutlinedInput-root\": {\n            \"& > fieldset\": { border: \"1px solid rgb(204, 204, 204)\" },\n          },\n        },\n      },\n    },\n    MuiInputBase: {\n      defaultProps: {\n        autoComplete: \"off\",\n      },\n      styleOverrides: {\n        \"& textarea\": {\n          border: \"1px solid #ced4da\",\n        },\n      },\n    },\n    MuiPaper: {\n      styleOverrides: {\n        root: {\n          textAlign: \"left\",\n          \"& .MuiTypography-root.MuiTypography-h5\": {\n            fontSize: \"0.9rem\",\n            fontFamily: \"Lato\",\n          },\n          \"& .MuiTypography-root.MuiTypography-subtitle2\": {\n            fontFamily: \"Lato\",\n            color: \"#666666\",\n            fontSize: \"0.75rem\",\n          },\n        },\n      },\n    },\n    MuiSlider: {\n      defaultProps: {\n        size: \"small\",\n        color: \"slider\",\n      },\n    },\n    MuiSelect: {\n      styleOverrides: {\n        select: {\n          textAlign: \"left\",\n        },\n      },\n    },\n    MuiFormControl: {\n      styleOverrides: {\n        root: {\n          padding: \"2px\",\n          \"& .MuiFormHelperText-root\": {\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n            display: \"block\",\n            textAlign: \"left\",\n            margin: \"2px\",\n          },\n          \"& .MuiFormHelperText-root.Mui-focused\": {\n            display: \"block\",\n            overflow: \"visible\",\n            textOverflow: \"visible\",\n            whiteSpace: \"normal\",\n          },\n          \"& .MuiFormControl-root:has(.MuiSlider-root) label\": {\n            fontSize: \"0.75rem\",\n            textAlign: \"start\",\n          },\n        },\n      },\n    },\n  },\n});\n\nfunction FieldTemplate(props) {\n  const {\n    id,\n    children,\n    classNames,\n    style,\n    disabled,\n    displayLabel,\n    hidden,\n    label,\n    onDropPropertyClick,\n    onKeyChange,\n    readonly,\n    required,\n    rawErrors = [],\n    errors,\n    help,\n    rawDescription,\n    schema,\n    uiSchema,\n    registry,\n  } = props;\n  const [isFocused, setIsFocused] = useState(false);\n\n  const uiOptions = getUiOptions(uiSchema);\n  const WrapIfAdditionalTemplate = getTemplate(\n    \"WrapIfAdditionalTemplate\",\n    registry,\n    uiOptions,\n  );\n\n  if (hidden) {\n    return <div style={{ display: \"none\" }}>{children}</div>;\n  }\n  return (\n    <WrapIfAdditionalTemplate\n      classNames={classNames}\n      style={style}\n      disabled={disabled}\n      id={id}\n      label={label}\n      onDropPropertyClick={onDropPropertyClick}\n      onKeyChange={onKeyChange}\n      readonly={readonly}\n      required={required}\n      schema={schema}\n      uiSchema={uiSchema}\n      registry={registry}\n    >\n      <FormControl\n        fullWidth={true}\n        error={rawErrors.length ? true : false}\n        required={required}\n        onFocus={(e) => {\n          setIsFocused(true);\n        }}\n        onBlur={(e) => {\n          setIsFocused(false);\n        }}\n      >\n        {children}\n        {displayLabel && rawDescription ? (\n          <FormHelperText id={id} focused={isFocused}>\n            {rawDescription}\n          </FormHelperText>\n        ) : null}\n        {errors}\n        {help}\n      </FormControl>\n    </WrapIfAdditionalTemplate>\n  );\n}\n\nfunction TextAreaWidget(props) {\n  const { options, registry } = props;\n  const BaseInputTemplate = getTemplate(\"BaseInputTemplate\", registry, options);\n\n  let rows = 5;\n\n  if (typeof options.rows === \"string\" || typeof options.rows === \"number\") {\n    rows = options.rows;\n  }\n\n  return (\n    <BaseInputTemplate\n      sx={{\n        \"& .MuiOutlinedInput-root\": {\n          \"& > fieldset\": { border: \"1px solid rgb(204, 204, 204)\" },\n        },\n      }}\n      {...props}\n      multiline\n      rows={rows}\n      variant={\"outlined\"}\n    />\n  );\n}\n\nfunction CustomselectWidget(props) {\n  return <MuiCustomSelect {...props} />;\n}\n\nfunction CustomFileWidget(props) {\n  return <FileUploadWidget {...props} />;\n}\n\nfunction ChatWidgetResponse({ chat_message }) {\n  if (chat_message.content) {\n    return <ListItemText primary={chat_message.content}></ListItemText>;\n  } else if (chat_message.function_call) {\n    const function_call_name = chat_message.function_call.name;\n    const function_call_args = JSON.parse(chat_message.function_call.arguments);\n\n    const fargs = Object.keys(function_call_args)\n      .map((key) => `${key}=\"${function_call_args[key]}\"`)\n      .join(\",\");\n\n    return (\n      <div>\n        <ListItemText\n          primary={\"Function\"}\n          secondary={`${function_call_name}(${fargs})`}\n        ></ListItemText>\n      </div>\n    );\n  }\n  return null;\n}\n\nconst ChatWidget = (props) => {\n  let result = props.value || [];\n  let key = 0;\n\n  if (typeof result === \"string\") {\n    result = [{ content: result }];\n  }\n\n  return (\n    <List className=\"output-chat\" style={{ paddingTop: 0 }}>\n      {result.map((input) => (\n        <ListItem\n          key={key++}\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"flex-start\",\n            padding: \"10px\",\n            background: \"rgb(255, 250, 236)\",\n            border: \"1px solid rgb(235, 230, 236)\",\n            borderRadius: 10,\n          }}\n        >\n          <ListItemAvatar>\n            <Chip color=\"primary\" label={input.role || \"System\"}></Chip>\n          </ListItemAvatar>\n          <ChatWidgetResponse chat_message={input}></ChatWidgetResponse>\n        </ListItem>\n      ))}\n    </List>\n  );\n};\n\nconst TextWidget = (props) => {\n  const result = props.value || [];\n  let key = 0;\n  return (\n    <List className=\"output-text\" style={{ paddingTop: 0 }}>\n      {result.map((input) => (\n        <ListItem\n          key={key++}\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"flex-start\",\n            padding: \"10px\",\n            background: \"rgb(255, 250, 236)\",\n            border: \"1px solid rgb(235, 230, 236)\",\n            borderRadius: 10,\n          }}\n        >\n          <ListItemText primary={input}></ListItemText>\n        </ListItem>\n      ))}\n    </List>\n  );\n};\n\nconst ImageWidget = (props) => {\n  let key = 0;\n  return (\n    <ImageList className=\"output-image\" cols={2} gap={8}>\n      {props.value.map((item) => (\n        <ImageListItem key={key++}>\n          <img src={`${item}`} loading=\"lazy\" alt=\"\" />\n        </ImageListItem>\n      ))}\n    </ImageList>\n  );\n};\n\nconst AudioWidget = (props) => {\n  return <audio src={props.value} controls />;\n};\n\nconst ThemedJsonForm = ({\n  schema,\n  uiSchema,\n  formData,\n  onChange,\n  submitBtn = <div></div>,\n  theme = defaultTheme,\n  validator,\n  templates = {},\n  widgets = {\n    datasource: (props) => <DataSourceSelector {...props} />,\n    output_chat: ChatWidget,\n    output_text: TextWidget,\n    output_image: ImageWidget,\n    output_audio: AudioWidget,\n  },\n  ...props\n}) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <Form\n        {...props}\n        schema={schema}\n        uiSchema={uiSchema}\n        validator={validator}\n        formData={formData}\n        onChange={onChange}\n        templates={{ ...templates, FieldTemplate }}\n        widgets={{\n          ...{\n            customselect: CustomselectWidget,\n            TextareaWidget: TextAreaWidget,\n            FileWidget: CustomFileWidget,\n            datasource: (props) => <DataSourceSelector {...props} />,\n          },\n          ...widgets,\n        }}\n      >\n        {submitBtn}\n      </Form>\n    </ThemeProvider>\n  );\n};\n\nexport default ThemedJsonForm;\n","import { useEffect, useState, useMemo } from \"react\";\nimport { Chip, Button, Stack } from \"@mui/material\";\nimport { dataURItoBlob } from \"@rjsf/utils\";\nimport { LoadingButton } from \"@mui/lab\";\n\nconst SCOPES = [\n  \"https://www.googleapis.com/auth/drive.readonly\",\n  \"https://www.googleapis.com/auth/drive.readonly.metadata\",\n];\nconst CLIENT_ID = \"\";\nconst API_KEY = \"\";\nconst APP_ID = \"\";\n\nconst thumbsContainer = {\n  marginTop: 4,\n};\n\nfunction extractFileInfo(dataURLs) {\n  return dataURLs\n    .filter((dataURL) => dataURL)\n    .map((dataURL) => {\n      const { blob, name } = dataURItoBlob(dataURL);\n      return {\n        dataURL,\n        name: name,\n        size: blob.size,\n        type: blob.type,\n      };\n    });\n}\n\nfunction processDocument(document) {\n  return new Promise((resolve, reject) => {\n    if (window.gapi && window.gapi.client.drive) {\n      const supportedExportDocsMimeTypes = {\n        \"application/vnd.google-apps.document\":\n          \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n        \"application/vnd.google-apps.spreadsheet\":\n          \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n        \"application/vnd.google-apps.presentation\":\n          \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n      };\n\n      const isGoogleDocument = supportedExportDocsMimeTypes.hasOwnProperty(\n        document.mimeType,\n      );\n      const exportMimeType = isGoogleDocument\n        ? supportedExportDocsMimeTypes[document.mimeType]\n        : null;\n\n      const request = isGoogleDocument\n        ? window.gapi.client.drive.files.export({\n            fileId: document.id,\n            mimeType: exportMimeType,\n          })\n        : window.gapi.client.drive.files.get({\n            fileId: document.id,\n            alt: \"media\",\n          });\n\n      request\n        .then((response) => {\n          const mimeType = isGoogleDocument\n            ? exportMimeType\n            : document.mimeType;\n\n          resolve({\n            dataURL:\n              `data:${mimeType};name=${encodeURIComponent(\n                document.name,\n              )};base64,` + window.btoa(response.body),\n\n            name: document.name,\n            size: response.body.length,\n            type: document.mimeType,\n          });\n        })\n        .catch((error) => {\n          console.error(\"Error loading the file:\", error);\n          reject(error);\n        });\n    } else {\n      reject(new Error(\"Google Drive API is not ready\"));\n    }\n  });\n}\n\nfunction processDocuments(documents) {\n  return Promise.all(Array.from(documents).map(processDocument));\n}\n\nexport default function GdriveFilePicker(props) {\n  const { multiple, onChange, value } = props;\n\n  const [oauthToken, setOauthToken] = useState(null);\n  const [authClient, setAuthClient] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const extractedFilesInfo = useMemo(\n    () =>\n      Array.isArray(value) ? extractFileInfo(value) : extractFileInfo([value]),\n    [value],\n  );\n\n  const [filesInfo, setFilesInfo] = useState(extractedFilesInfo);\n\n  useEffect(() => {\n    if (window.gapi) {\n      window.gapi.load(\"picker\");\n      window.gapi.load(\"client\", () => {\n        window.gapi.client.setApiKey(API_KEY);\n        window.gapi.client.load(\"drive\", \"v3\");\n      });\n    }\n    if (window.google && !authClient) {\n      const client = window.google.accounts.oauth2.initTokenClient({\n        client_id: CLIENT_ID,\n        scope: SCOPES.join(\" \"),\n        callback: (tokenResponse) => {\n          setOauthToken(tokenResponse.access_token);\n        },\n      });\n      setAuthClient(client);\n    }\n  }, [authClient]);\n\n  const pickerCallback = (data) => {\n    if (data.action === window.google.picker.Action.PICKED) {\n      setProcessing(true);\n      processDocuments(data[window.google.picker.Response.DOCUMENTS]).then(\n        (filesInfoEvent) => {\n          setFilesInfo(filesInfoEvent);\n          setProcessing(false);\n\n          const newValue = filesInfoEvent.map((fileInfo) => fileInfo.dataURL);\n          if (props?.schema?.multiple || props?.schema?.maxFiles > 1) {\n            onChange(newValue);\n          } else {\n            onChange(newValue[0]);\n          }\n        },\n      );\n    }\n  };\n\n  const removeFile = (index) => {\n    const newFilesInfo = [...filesInfo];\n    newFilesInfo.splice(index, 1);\n    setFilesInfo(newFilesInfo);\n    const newValue = newFilesInfo.map((fileInfo) => fileInfo.dataURL);\n    if (multiple) {\n      onChange(newValue);\n    } else {\n      onChange(newValue[0]);\n    }\n  };\n\n  const handleOpenPicker = () => {\n    if (oauthToken) {\n      const view = new window.google.picker.View(\n        window.google.picker.ViewId.DOCS,\n      );\n      if (props.schema?.accepts) {\n        view.setMimeTypes(Object.keys(props.schema.accepts).join(\",\"));\n      }\n\n      const picker = new window.google.picker.PickerBuilder()\n        .enableFeature(window.google.picker.Feature.NAV_HIDDEN)\n        .setDeveloperKey(API_KEY)\n        .setAppId(APP_ID)\n        .setOAuthToken(oauthToken)\n        .addView(view)\n        .setCallback(pickerCallback)\n        .build();\n      picker.setVisible(true);\n    }\n  };\n\n  const handleAuthClick = () => {\n    if (!authClient) {\n      const client = window.google.accounts.oauth2.initTokenClient({\n        client_id: CLIENT_ID,\n        scope: SCOPES,\n        callback: (tokenResponse) => {\n          setOauthToken(tokenResponse.access_token);\n        },\n      });\n      setAuthClient(client);\n    }\n    if (authClient) {\n      if (oauthToken === null) {\n        authClient.requestAccessToken({ prompt: \"\" });\n      } else {\n        authClient.requestAccessToken({ prompt: \"\" });\n      }\n    }\n  };\n\n  const handleSignoutClick = () => {\n    if (oauthToken) {\n      window.google.accounts.oauth2.revoke(oauthToken, () => {\n        setOauthToken(null);\n      });\n    }\n  };\n\n  const thumbs = filesInfo.map((fileInfo, index) => {\n    return (\n      <Chip\n        label={fileInfo.name}\n        onDelete={() => removeFile(index)}\n        key={index}\n      />\n    );\n  });\n\n  return (\n    <div className=\"container\">\n      <label style={{ display: \"flex\" }}>{props.label}</label>\n      <p></p>\n      <Stack\n        spacing={2}\n        sx={{ alignItems: \"center\", justifyContent: \"center\" }}\n      >\n        {oauthToken && (\n          <LoadingButton\n            variant=\"outlined\"\n            onClick={() => handleOpenPicker()}\n            disabled={processing}\n            loading={processing}\n          >\n            Choose File\n          </LoadingButton>\n        )}\n        {oauthToken && (\n          <LoadingButton\n            variant=\"outlined\"\n            onClick={() => handleSignoutClick()}\n            size=\"small\"\n            disabled={processing}\n            loading={processing}\n          >\n            SignOut\n          </LoadingButton>\n        )}\n        {!oauthToken && (\n          <Button variant=\"outlined\" onClick={() => handleAuthClick()}>\n            Login to Google\n          </Button>\n        )}\n\n        {thumbs && <aside style={thumbsContainer}>{thumbs}</aside>}\n      </Stack>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { axios } from \"../../data/axios\";\n\nimport {\n  List,\n  ListItem,\n  ListItemText,\n  IconButton,\n  Stack,\n  TextField,\n  InputAdornment,\n  LinearProgress,\n} from \"@mui/material\";\nimport ArrowCircleDownOutlinedIcon from \"@mui/icons-material/ArrowCircleDownOutlined\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nimport { LoadingButton } from \"@mui/lab\";\n\nexport default function WebpageURLExtractorWidget(props) {\n  const { onChange, value, schema } = props;\n  const [inputUrl, setInputUrl] = useState(null);\n  const [urls, setUrls] = useState(value ? value.split(\",\") : null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (urls !== null || inputUrl !== null) {\n      const url_str = urls ? urls.join(\",\") : inputUrl;\n      onChange(url_str);\n      if (url_str.length > schema.maxLength) {\n        setError(\"Too many URLs\");\n      }\n      if (url_str.length < schema.maxLength) {\n        setError(null);\n      }\n    }\n  }, [urls, onChange, schema.maxLength, inputUrl]);\n\n  const onClick = () => {\n    const url = inputUrl;\n    setUrls(null);\n    setIsLoading(true);\n    axios()\n      .post(\"/api/datasources/url/extract_urls\", {\n        url: url,\n      })\n      .then((response) => {\n        setUrls(response.data.urls || [url]);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        setUrls([url]);\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <label style={{ display: \"flex\" }}>{props.label}</label>\n      <p></p>\n      <Stack spacing={2} sx={{}}>\n        <TextField\n          disabled={isLoading}\n          onChange={(e) => setInputUrl(e.target.value)}\n          InputProps={{\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <LoadingButton\n                  onClick={onClick}\n                  isLoading={isLoading}\n                  disabled={isLoading}\n                >\n                  <ArrowCircleDownOutlinedIcon />\n                </LoadingButton>\n              </InputAdornment>\n            ),\n          }}\n        />\n        {isLoading && <LinearProgress />}\n        {urls && urls.length > 0 && (\n          <div>\n            <List\n              dense={true}\n              sx={{\n                maxHeight: \"200px\",\n                overflowY: \"scroll\",\n                border: error ? \"1px solid red\" : null,\n              }}\n            >\n              {urls.map((url, index) => {\n                return (\n                  <ListItem\n                    key={index}\n                    secondaryAction={\n                      <IconButton\n                        onClick={() => {\n                          const newUrls = [...urls];\n                          newUrls.splice(index, 1);\n                          setUrls(newUrls);\n                        }}\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    }\n                  >\n                    <ListItemText\n                      primary={\n                        <a href={url} target=\"_blank\" rel=\"noreferrer\">\n                          {url}\n                        </a>\n                      }\n                    />\n                  </ListItem>\n                );\n              })}\n            </List>\n            {error && <p style={{ color: \"red\" }}>{error}</p>}\n          </div>\n        )}\n      </Stack>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  Button as MuiButton,\n  ButtonGroup,\n  TextField,\n  Stack,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from \"@mui/material\";\nimport { useRecoilValue, useRecoilState } from \"recoil\";\nimport { dataSourcesState, dataSourceTypesState } from \"../../data/atoms\";\nimport { axios } from \"../../data/axios\";\nimport validator from \"@rjsf/validator-ajv8\";\nimport ThemedJsonForm from \"../ThemedJsonForm\";\nimport { useReloadDataSourceEntries } from \"../../data/init\";\nimport GdriveFilePicker from \"../form/GdriveFilePicker\";\nimport WebpageURLExtractorWidget from \"../form/WebpageURLExtractorWidget\";\nimport { enqueueSnackbar } from \"notistack\";\n\nfunction CustomGdriveFileWidget(props) {\n  return <GdriveFilePicker {...props} />;\n}\n\nfunction CustomWebpageURLExtractorWidget(props) {\n  return <WebpageURLExtractorWidget {...props} />;\n}\n\nexport function AddDataSourceModal({\n  open,\n  handleCancelCb,\n  dataSourceAddedCb,\n  modalTitle = \"Add New Data Source\",\n  datasource = null,\n}) {\n  const dataSourceTypes = useRecoilValue(dataSourceTypesState);\n  const [dataSourceName, setDataSourceName] = useState(\n    datasource?.name ? datasource.name : \"\",\n  );\n  const [dataSourceNameError, setDataSourceNameError] = useState(false);\n\n  const [dataSources, setDataSources] = useRecoilState(dataSourcesState);\n  const [dataSourceType, setDataSourceType] = useState(\n    datasource?.type ? datasource.type : dataSourceTypes?.[0],\n  );\n  const [formData, setFormData] = useState({});\n  const reloadDataSourceEntries = useReloadDataSourceEntries();\n\n  return (\n    <Dialog open={open} onClose={handleCancelCb}>\n      <DialogTitle>{modalTitle}</DialogTitle>\n      <DialogContent>\n        <Stack spacing={2}>\n          <TextField\n            label=\"Data Source Name\"\n            value={dataSourceName}\n            onChange={(e) => setDataSourceName(e.target.value)}\n            disabled={datasource ? true : false}\n            required={true}\n            defaultValue={datasource?.name || \"Untitled\"}\n            size=\"small\"\n            style={{ width: \"100%\", marginTop: \"6px\" }}\n            error={dataSourceNameError}\n          />\n          <span>Data Source Type</span>\n          <ButtonGroup\n            variant=\"outlined\"\n            size=\"small\"\n            style={{ display: \"inline-block\" }}\n            disabled={datasource ? true : false}\n          >\n            {dataSourceTypes.map((dataSourceType) => (\n              <MuiButton\n                key={dataSourceType.id}\n                variant=\"outlined\"\n                onClick={(e) => {\n                  setDataSourceType(dataSourceType);\n                }}\n              >\n                {dataSourceType.name}\n              </MuiButton>\n            ))}\n          </ButtonGroup>\n          <ThemedJsonForm\n            schema={dataSourceType?.entry_config_schema || {}}\n            validator={validator}\n            uiSchema={{\n              ...(dataSourceType?.entry_config_ui_schema || {}),\n              ...{\n                \"ui:submitButtonOptions\": {\n                  norender: true,\n                },\n                \"ui:DescriptionFieldTemplate\": () => null,\n                \"ui:TitleFieldTemplate\": () => null,\n              },\n            }}\n            widgets={{\n              gdrive: CustomGdriveFileWidget,\n              webpageurls: CustomWebpageURLExtractorWidget,\n            }}\n            formData={formData}\n            onChange={({ formData }) => {\n              setFormData(formData);\n            }}\n          />\n        </Stack>\n      </DialogContent>\n      <DialogActions>\n        <MuiButton onClick={handleCancelCb}>Cancel</MuiButton>,\n        <MuiButton\n          variant=\"contained\"\n          onClick={() => {\n            if (datasource) {\n              axios()\n                .post(`/api/datasources/${datasource.uuid}/add_entry`, {\n                  entry_data: formData,\n                })\n                .then(() => {\n                  reloadDataSourceEntries();\n                });\n              handleCancelCb();\n              enqueueSnackbar(\n                \"Processing Data, please refresh the page in a few minutes\",\n                {\n                  variant: \"success\",\n                },\n              );\n            } else {\n              if (dataSourceName === \"\") {\n                setDataSourceNameError(true);\n                return;\n              }\n\n              axios()\n                .post(\"/api/datasources\", {\n                  name: dataSourceName,\n                  type: dataSourceType.id,\n                  config: dataSourceType.is_external_datasource ? formData : {},\n                })\n                .then((response) => {\n                  // External data sources do not support adding entries\n                  if (!dataSourceType.is_external_datasource) {\n                    const dataSource = response.data;\n                    setDataSources([...dataSources, dataSource]);\n                    axios()\n                      .post(`/api/datasources/${dataSource.uuid}/add_entry`, {\n                        entry_data: formData,\n                      })\n                      .then((response) => {\n                        dataSourceAddedCb(dataSource);\n                      });\n                  }\n                });\n              handleCancelCb();\n              enqueueSnackbar(\n                \"Processing Data, please refresh the page in a few minutes\",\n                {\n                  variant: \"success\",\n                },\n              );\n            }\n          }}\n        >\n          Submit\n        </MuiButton>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useMemo, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { dataURItoBlob } from \"@rjsf/utils\";\nimport { Chip } from \"@mui/material\";\nimport prettyBytes from \"pretty-bytes\";\n\nconst baseStyle = {\n  flex: 1,\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  padding: \"20px\",\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: \"#eeeeee\",\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  color: \"#bdbdbd\",\n  outline: \"none\",\n  transition: \"border .24s ease-in-out\",\n};\n\nconst focusedStyle = {\n  borderColor: \"#2196f3\",\n};\n\nconst acceptStyle = {\n  borderColor: \"#00e676\",\n};\n\nconst rejectStyle = {\n  borderColor: \"#ff1744\",\n};\n\nconst thumbsContainer = {\n  marginTop: 4,\n};\n\nfunction addNameToDataURL(dataURL, name) {\n  if (dataURL === null) {\n    return null;\n  }\n  return dataURL.replace(\";base64\", `;name=${encodeURIComponent(name)};base64`);\n}\n\nfunction processFile(file) {\n  const { name, size, type } = file;\n  return new Promise((resolve, reject) => {\n    const reader = new window.FileReader();\n    reader.onerror = reject;\n    reader.onload = (event) => {\n      if (typeof event.target?.result === \"string\") {\n        resolve({\n          dataURL: addNameToDataURL(event.target.result, name),\n          name,\n          size,\n          type,\n        });\n      } else {\n        resolve({\n          dataURL: null,\n          name,\n          size,\n          type,\n        });\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction processFiles(files) {\n  return Promise.all(Array.from(files).map(processFile));\n}\n\nfunction extractFileInfo(dataURLs) {\n  return dataURLs\n    .filter((dataURL) => dataURL)\n    .map((dataURL) => {\n      const { blob, name } = dataURItoBlob(dataURL);\n      return {\n        dataURL,\n        name: name,\n        size: blob.size,\n        type: blob.type,\n      };\n    });\n}\n\nexport default function DropzoneFileWidget(props) {\n  const { multiple, onChange, value } = props;\n\n  const extractedFilesInfo = useMemo(\n    () =>\n      Array.isArray(value) ? extractFileInfo(value) : extractFileInfo([value]),\n    [value],\n  );\n\n  const [filesInfo, setFilesInfo] = useState(extractedFilesInfo);\n\n  const thumbs = filesInfo.map((fileInfo, index) => {\n    return (\n      <Chip\n        label={fileInfo.name}\n        onDelete={() => removeFile(index)}\n        key={index}\n      />\n    );\n  });\n\n  const onDrop = (acceptedFiles) => {\n    processFiles(acceptedFiles).then((filesInfoEvent) => {\n      setFilesInfo(filesInfoEvent);\n      const newValue = filesInfoEvent.map((fileInfo) => fileInfo.dataURL);\n      if (props?.schema?.multiple || props?.schema?.maxFiles > 1) {\n        onChange(newValue);\n      } else {\n        onChange(newValue[0]);\n      }\n    });\n  };\n\n  const removeFile = (index) => {\n    const newFilesInfo = [...filesInfo];\n    newFilesInfo.splice(index, 1);\n    setFilesInfo(newFilesInfo);\n    const newValue = newFilesInfo.map((fileInfo) => fileInfo.dataURL);\n    if (multiple) {\n      onChange(newValue);\n    } else {\n      onChange(newValue[0]);\n    }\n  };\n\n  const { getRootProps, getInputProps, isFocused, isDragAccept, isDragReject } =\n    useDropzone({\n      accept: props.schema?.accepts || {},\n      onDrop,\n      multiple: props.schema.multiple || props.schema.maxFiles > 1 || false,\n      maxSize: props.schema.maxSize || 20000000,\n      maxFiles: props.schema.maxFiles || 1,\n    });\n\n  const style = useMemo(\n    () => ({\n      ...baseStyle,\n      ...(isFocused ? focusedStyle : {}),\n      ...(isDragAccept ? acceptStyle : {}),\n      ...(isDragReject ? rejectStyle : {}),\n    }),\n    [isFocused, isDragAccept, isDragReject],\n  );\n\n  return (\n    <div className=\"container\">\n      <label style={{ display: \"flex\" }}>{props.label}</label>\n      <p></p>\n      <div {...getRootProps({ style })}>\n        <input {...getInputProps()} multiple={false} />\n        <p>\n          Drag 'n' drop some files here, or click to select files. Maximum size\n          of each file is {prettyBytes(props?.schema?.maxSize || 20000000)}\n        </p>\n      </div>\n      {thumbs && <aside style={thumbsContainer}>{thumbs}</aside>}\n    </div>\n  );\n}\n","import { atom, selector } from \"recoil\";\nimport { axios } from \"./axios\";\n\nconst apiProvidersFetchSelector = selector({\n  key: \"apiProvidersFetchSelector\",\n  get: async () => {\n    try {\n      const apiProviders = await axios().get(\"/api/apiproviders\");\n      return apiProviders.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nconst apiBackendsFetchSelector = selector({\n  key: \"apiBackendsFetchSelector\",\n  get: async () => {\n    try {\n      const apiBackends = await axios().get(\"/api/apibackends\");\n      return apiBackends.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nconst endpointsFetchSelector = selector({\n  key: \"endpointsFetchSelector\",\n  get: async () => {\n    try {\n      const endpoints = await axios().get(\"/api/endpoints\");\n      return endpoints.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nconst dataSourcesFetchSelector = selector({\n  key: \"dataSourcesFetchSelector\",\n  get: async () => {\n    try {\n      const dataSources = await axios().get(\"/api/datasources\");\n      return dataSources.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nconst dataSourceTypesFetchSelector = selector({\n  key: \"dataSourceTypesFetchSelector\",\n  get: async () => {\n    try {\n      const dataSourceTypes = await axios().get(\"/api/datasource_types\");\n      return dataSourceTypes.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nexport const apiProvidersState = atom({\n  key: \"apiProviders\",\n  default: apiProvidersFetchSelector,\n});\n\nexport const apiProviderDropdownListState = selector({\n  key: \"apiProviderDropdownList\",\n  get: async ({ get }) => {\n    const apiProviders = await get(apiProvidersState);\n    return apiProviders.map((x) => {\n      return { label: x.name, value: x.name };\n    });\n  },\n});\n\nexport const apiProviderSelectedState = atom({\n  key: \"apiProviderSelected\",\n  default: null,\n});\n\nexport const apiBackendsState = atom({\n  key: \"apiBackends\",\n  default: apiBackendsFetchSelector,\n});\n\nexport const apiBackendDropdownListState = selector({\n  key: \"apiBackendDropdownList\",\n  get: ({ get }) => {\n    const apiBackends = get(apiBackendsState);\n    const organization = get(organizationState);\n    return apiBackends\n      .filter(\n        (apiBackend) =>\n          (organization?.disabled_api_backends || []).indexOf(apiBackend.id) ===\n          -1,\n      )\n      .map((x) => {\n        return { label: x.name, value: x.id, provider: x.api_provider.name };\n      });\n  },\n});\n\nexport const apiBackendSelectedState = atom({\n  key: \"apiBackendSelected\",\n  default: null,\n});\n\nexport const endpointsState = atom({\n  key: \"endpoints\",\n  default: endpointsFetchSelector,\n});\n\nexport const endpointDropdownListState = selector({\n  key: \"endpointDropdownList\",\n  get: ({ get }) => {\n    const endpoints = get(endpointsState);\n    const parentEndpoints = endpoints\n      .filter((x) => x.version === 0 && !x.draft)\n      .sort((a, b) => (a.created_on < b.created_on ? 1 : -1));\n    return parentEndpoints.map((x) => {\n      return {\n        label: `${x.api_backend.api_provider.name} » ${x.api_backend.name} » ${x.name}`,\n        uuid: x.uuid,\n        options: endpoints\n          .filter((y) => y.parent_uuid === x.uuid)\n          .map((z) => {\n            return {\n              label: `${z.version}: ${z.description}`,\n              value: `${z.parent_uuid}:${z.version}`,\n              version: z.version,\n              backend: x.api_backend.name,\n              provider: x.api_backend.api_provider.name,\n              is_live: z.is_live,\n              uuid: z.uuid,\n            };\n          }),\n      };\n    });\n  },\n});\n\nexport const endpointSelectedState = atom({\n  key: \"endpointSelected\",\n  default: null,\n});\n\nexport const endpointTableDataState = selector({\n  key: \"endpointTableData\",\n  get: ({ get }) => {\n    const endpoints = get(endpointsState)\n      .filter((endpoint) => !endpoint.draft)\n      .sort((a, b) => (a.created_on < b.created_on ? 1 : -1));\n\n    // map of parent endpoints\n    const parentEndpoints = endpoints\n      .filter((x) => x.version === 0)\n      .reduce((acc, entry) => {\n        const entry_map = {\n          [entry.uuid]: { ...entry, versions: [], key: entry.uuid },\n        };\n        return { ...acc, ...entry_map };\n      }, {});\n\n    const childEndpoints = endpoints.filter((x) => x.version !== 0);\n\n    for (let i = 0; i < childEndpoints.length; i++) {\n      if (childEndpoints[i].parent_uuid in parentEndpoints) {\n        parentEndpoints[childEndpoints[i].parent_uuid].versions.push({\n          ...childEndpoints[i],\n          key: childEndpoints[i].uuid,\n        });\n      }\n    }\n    return Object.values(parentEndpoints);\n  },\n});\n\nexport const endpointVersionsState = atom({\n  key: \"endpointVersions\",\n  default: [],\n});\n\nexport const endpointConfigValueState = atom({\n  key: \"endpointConfigValue\",\n  default: {},\n});\n\nexport const templateValueState = atom({\n  key: \"promptValues\",\n  default: {},\n});\n\nexport const inputValueState = atom({\n  key: \"inputValue\",\n  default: {},\n});\n\nexport const saveEndpointModalVisibleState = atom({\n  key: \"saveEndpointModalVisible\",\n  default: false,\n});\n\nexport const saveEndpointVersionModalVisibleState = atom({\n  key: \"saveEndpointVersionModalVisible\",\n  default: false,\n});\n\nexport const shareEndpointModalVisibleState = atom({\n  key: \"shareEndpointModalVisible\",\n  default: false,\n});\n\nexport const endpointShareCodeValueState = atom({\n  key: \"endpointShareCodeValue\",\n  default: null,\n});\n\nexport const profileFetchSelector = selector({\n  key: \"profileFetchSelector\",\n  get: async () => {\n    try {\n      const profile = await axios().get(\"/api/profiles/me\");\n      return profile.data;\n    } catch (error) {\n      return null;\n    }\n  },\n});\n\nexport const profileState = atom({\n  key: \"profileValue\",\n  default: profileFetchSelector,\n});\n\nexport const isLoggedInState = selector({\n  key: \"isLoggedIn\",\n  get: ({ get }) => {\n    return get(profileState) !== null;\n  },\n});\n\nexport const promptHubState = atom({\n  key: \"promptHubState\",\n  default: [],\n});\n\nexport const promptHubListState = selector({\n  key: \"promptHubList\",\n  get: ({ get }) => {\n    const promptHub = get(promptHubState);\n    return promptHub;\n  },\n});\n\nexport const dataSourcesState = atom({\n  key: \"dataSourcesState\",\n  default: dataSourcesFetchSelector,\n});\n\nexport const orgDataSourcesState = selector({\n  key: \"orgDataSourcesState\",\n  get: async ({ get }) => {\n    try {\n      const profileFlags = get(profileFlagsState);\n      if (!profileFlags.IS_ORGANIZATION_MEMBER) {\n        return [];\n      }\n      const dataSources = await axios().get(\"/api/org/datasources\");\n      return dataSources.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nexport const dataSourceTypesState = atom({\n  key: \"dataSourceTypesState\",\n  default: dataSourceTypesFetchSelector,\n});\n\nexport const dataSourceEntriesState = atom({\n  key: \"dataSourceEntriesState\",\n  default: [],\n});\n\nexport const orgDataSourceEntriesState = atom({\n  key: \"orgDataSourceEntriesState\",\n  default: [],\n});\n\nexport const dataSourceEntriesTableDataState = selector({\n  key: \"dataSourceEntriesTableData\",\n  get: ({ get }) => {\n    let dataSourceEntries = get(dataSourceEntriesState);\n    let profileFlags = get(profileFlagsState);\n\n    dataSourceEntries = dataSourceEntries.map((x) => {\n      return { isUserOwned: true, ...x };\n    });\n    let orgDataSourceEntries = profileFlags.IS_ORGANIZATION_MEMBER\n      ? get(orgDataSourceEntriesState)\n      : [];\n    orgDataSourceEntries = orgDataSourceEntries.map((x) => {\n      return { isUserOwned: false, ...x };\n    });\n\n    let privateDataSources = get(dataSourcesState);\n    privateDataSources = privateDataSources.map((x) => {\n      return { isUserOwned: true, ...x };\n    });\n    const privateDataSourcesUUIDs = privateDataSources.map((x) => x.uuid);\n\n    let orgDataSources = profileFlags.IS_ORGANIZATION_MEMBER\n      ? get(orgDataSourcesState)\n      : [];\n    orgDataSources = orgDataSources.map((x) => {\n      return { isUserOwned: false, ...x };\n    });\n\n    orgDataSources = orgDataSources.filter(\n      (x) => !privateDataSourcesUUIDs.includes(x.uuid),\n    );\n\n    let result = [];\n    const datasource_entries_map = {};\n    const org_datasource_entries_map = {};\n\n    for (let i = 0; i < dataSourceEntries.length; i++) {\n      if (dataSourceEntries[i].datasource.uuid in datasource_entries_map) {\n        datasource_entries_map[dataSourceEntries[i].datasource.uuid].push(\n          dataSourceEntries[i],\n        );\n      } else {\n        datasource_entries_map[dataSourceEntries[i].datasource.uuid] = [\n          dataSourceEntries[i],\n        ];\n      }\n    }\n\n    for (let i = 0; i < orgDataSourceEntries.length; i++) {\n      if (\n        orgDataSourceEntries[i].datasource.uuid in org_datasource_entries_map\n      ) {\n        org_datasource_entries_map[\n          orgDataSourceEntries[i].datasource.uuid\n        ].push(orgDataSourceEntries[i]);\n      } else {\n        org_datasource_entries_map[orgDataSourceEntries[i].datasource.uuid] = [\n          orgDataSourceEntries[i],\n        ];\n      }\n    }\n\n    for (let i = 0; i < privateDataSources.length; i++) {\n      result.push({\n        ...privateDataSources[i],\n        ...{\n          data_source_entries:\n            datasource_entries_map[privateDataSources[i].uuid] || [],\n        },\n      });\n    }\n\n    for (let i = 0; i < orgDataSources.length; i++) {\n      result.push({\n        ...orgDataSources[i],\n        ...{\n          data_source_entries:\n            org_datasource_entries_map[orgDataSources[i].uuid] || [],\n        },\n      });\n    }\n\n    return result;\n  },\n});\n\nexport const isMobileState = atom({\n  key: \"isMobileState\",\n  default: window.innerWidth < 768,\n});\n\nexport const appTemplateState = atom({\n  key: \"appTemplateState\",\n  default: null,\n});\n\nexport const appDebugState = atom({\n  key: \"appDebugState\",\n  default: {},\n});\n\nconst appsFetchSelector = selector({\n  key: \"appsFetchSelector\",\n  get: async () => {\n    try {\n      const apps = await axios().get(\"/api/apps\");\n      return apps.data;\n    } catch (error) {\n      return [];\n    }\n  },\n});\n\nexport const appsState = atom({\n  key: \"appsState\",\n  default: appsFetchSelector,\n});\n\nexport const profileFlagsFetchSelector = selector({\n  key: \"profileFlagsFetchSelector\",\n  get: async () => {\n    try {\n      const profile = await axios().get(\"/api/profiles/me/flags\");\n      return profile.data;\n    } catch (error) {\n      return {};\n    }\n  },\n});\n\nexport const profileFlagsState = atom({\n  key: \"profileFlagsState\",\n  default: profileFlagsFetchSelector,\n});\n\nexport const organizationFetchSelector = selector({\n  key: \"organizationFetchSelector\",\n  get: async () => {\n    try {\n      const organization = await axios().get(\"/api/org\");\n      return organization.data;\n    } catch (error) {\n      return null;\n    }\n  },\n});\n\nexport const organizationState = atom({\n  key: \"organizationState\",\n  default: organizationFetchSelector,\n});\n","import axiosLib from \"axios\";\nimport { enqueueSnackbar } from \"notistack\";\n\nexport const axios = () => {\n  const caxios = axiosLib.create({\n    xsrfCookieName: \"csrftoken\",\n    xsrfHeaderName: \"X-CSRFToken\",\n  });\n\n  caxios.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      if (\n        !window.location.pathname.startsWith(\"/s/\") &&\n        !window.location.pathname.startsWith(\"/hub\") &&\n        !window.location.pathname.startsWith(\"/app/\") &&\n        (error.response.status === 401 || error.response.status === 403)\n      ) {\n        window.location.href = \"/login\";\n      }\n      enqueueSnackbar(\"Error Occurred\", { variant: \"error\" });\n      return Promise.reject(error);\n    },\n  );\n\n  return caxios;\n};\n","import { useSetRecoilState, useRecoilValue } from \"recoil\";\nimport {\n  apiProvidersState,\n  apiBackendsState,\n  dataSourcesState,\n  endpointsState,\n  profileState,\n  isLoggedInState,\n  profileFlagsState,\n  promptHubState,\n  dataSourceTypesState,\n  dataSourceEntriesState,\n  organizationState,\n  orgDataSourcesState,\n  orgDataSourceEntriesState,\n} from \"./atoms\";\nimport { axios } from \"./axios\";\n\nexport function useLoadApiProviders() {\n  const setApiProvider = useSetRecoilState(apiProvidersState);\n  axios()\n    .get(\"/api/apiproviders\")\n    .then((response) => {\n      // handle success\n      setApiProvider(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadApiBackends() {\n  const setApiBackends = useSetRecoilState(apiBackendsState);\n  const organization = useRecoilValue(organizationState);\n  const profileFlags = useRecoilValue(profileFlagsState);\n\n  axios()\n    .get(\"/api/apibackends\")\n    .then((response) => {\n      // Disable api backends that are disabled for the organization\n      setApiBackends(\n        response.data.filter(\n          (apiBackend) =>\n            !profileFlags.IS_ORGANIZATION_MEMBER ||\n            organization.disabled_api_backends.indexOf(apiBackend.id) === -1,\n        ),\n      );\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadEndpoints() {\n  const setEndpoints = useSetRecoilState(endpointsState);\n  axios()\n    .get(\"/api/endpoints\")\n    .then((response) => {\n      // handle success\n      setEndpoints(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\n// Return a function to trigger useLoadEndpoints\nexport function useReloadEndpoints() {\n  const setEndpoints = useSetRecoilState(endpointsState);\n  return () => {\n    axios()\n      .get(\"/api/endpoints\")\n      .then((response) => {\n        // handle success\n        setEndpoints(response.data);\n      })\n      .catch((error) => {\n        // handle error\n      })\n      .then({\n        // always executed\n      });\n  };\n}\n\nexport function useLoadProfile() {\n  const setProfile = useSetRecoilState(profileState);\n  const setIsLoggedIn = useSetRecoilState(isLoggedInState);\n\n  axios()\n    .get(\"/api/profiles/me\")\n    .then((response) => {\n      setProfile(response.data);\n      setIsLoggedIn(true);\n    })\n    .catch((error) => {\n      // handle error\n      setIsLoggedIn(false);\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadPromptHub() {\n  const setPromptHub = useSetRecoilState(promptHubState);\n  axios()\n    .get(\"/api/hub\")\n    .then((response) => {\n      // handle success\n      setPromptHub(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadDataSources() {\n  const setDataSources = useSetRecoilState(dataSourcesState);\n  axios()\n    .get(\"/api/datasources\")\n    .then((response) => {\n      // handle success\n      setDataSources(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadDataSources() {\n  const setDataSources = useSetRecoilState(dataSourcesState);\n  return () => {\n    axios()\n      .get(\"/api/datasources\")\n      .then((response) => {\n        // handle success\n        setDataSources(response.data);\n      })\n      .catch((error) => {\n        // handle error\n      })\n      .then({\n        // always executed\n      });\n  };\n}\n\nexport function useLoadOrgDataSources() {\n  const setOrgDataSources = useSetRecoilState(orgDataSourcesState);\n\n  axios()\n    .get(\"/api/profiles/me\")\n    .then((response) => {\n      if (response.data.organization !== null) {\n        axios()\n          .get(\"/api/org/datasources\")\n          .then((response) => {\n            // handle success\n            setOrgDataSources(response.data);\n          })\n          .catch((error) => {\n            // handle error\n          })\n          .then({\n            // always executed\n          });\n      }\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadOrgDataSources() {\n  const setOrgDataSources = useSetRecoilState(orgDataSourcesState);\n\n  return () => {\n    axios()\n      .get(\"/api/profiles/me\")\n      .then((response) => {\n        if (response.data.organization !== null) {\n          axios()\n            .get(\"/api/org/datasources\")\n            .then((response) => {\n              // handle success\n              setOrgDataSources(response.data);\n            })\n            .catch((error) => {\n              // handle error\n            })\n            .then({\n              // always executed\n            });\n        }\n      })\n      .catch((error) => {\n        // handle error\n      })\n      .then({\n        // always executed\n      });\n  };\n}\n\nexport function useLoadDataSourceTypes() {\n  const setDataSourceTypes = useSetRecoilState(dataSourceTypesState);\n  axios()\n    .get(\"/api/datasource_types\")\n    .then((response) => {\n      // handle success\n      setDataSourceTypes(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadDataSourceEntries() {\n  const setDataSourceEntries = useSetRecoilState(dataSourceEntriesState);\n  axios()\n    .get(\"/api/datasource_entries\")\n    .then((response) => {\n      // handle success\n      setDataSourceEntries(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadDataSourceEntries() {\n  const setDataSourceEntries = useSetRecoilState(dataSourceEntriesState);\n  return () => {\n    axios()\n      .get(\"/api/datasource_entries\")\n      .then((response) => {\n        // handle success\n        setDataSourceEntries(response.data);\n      })\n      .catch((error) => {\n        // handle error\n      })\n      .then({\n        // always executed\n      });\n  };\n}\n\nexport function useLoadOrgDataSourceEntries() {\n  const setOrgDataSourceEntries = useSetRecoilState(orgDataSourceEntriesState);\n  axios()\n    .get(\"/api/profiles/me\")\n    .then((response) => {\n      if (response.data.organization !== null) {\n        axios()\n          .get(\"/api/org/datasource_entries\")\n          .then((response) => {\n            // handle success\n            setOrgDataSourceEntries(response.data);\n          })\n          .catch((error) => {\n            // handle error\n          })\n          .then({\n            // always executed\n          });\n      }\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadOrgDataSourceEntries() {\n  const setOrgDataSourceEntries = useSetRecoilState(orgDataSourceEntriesState);\n  axios()\n    .get(\"/api/profiles/me\")\n    .then((response) => {\n      if (response.data.organization !== null) {\n        axios()\n          .get(\"/api/org/datasource_entries\")\n          .then((response) => {\n            // handle success\n            setOrgDataSourceEntries(response.data);\n          })\n          .catch((error) => {\n            // handle error\n          })\n          .then({\n            // always executed\n          });\n      }\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadDataSourcesAndEntries() {\n  const reloadDataSources = useReloadDataSources();\n  const reloadDataSourcesEntries = useReloadDataSourceEntries();\n  return () => {\n    reloadDataSources();\n    reloadDataSourcesEntries();\n  };\n}\n\nexport function useLoadProfileFlags() {\n  const setProfileFlags = useSetRecoilState(profileFlagsState);\n  axios()\n    .get(\"/api/profiles/me/flags\")\n    .then((response) => {\n      // handle success\n      setProfileFlags(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useLoadOrganization() {\n  const setOrganization = useSetRecoilState(organizationState);\n  axios()\n    .get(\"/api/org\")\n    .then((response) => {\n      // handle success\n      setOrganization(response.data);\n    })\n    .catch((error) => {\n      // handle error\n    })\n    .then({\n      // always executed\n    });\n}\n\nexport function useReloadOrgDataSourcesAndEntries() {\n  const reloadOrgDataSources = useReloadOrgDataSources();\n  const reloadOrgDataSourcesEntries = useReloadOrgDataSourceEntries();\n  return () => {\n    reloadOrgDataSources();\n    reloadOrgDataSourcesEntries();\n  };\n}\n"],"names":["DataSourceSelector","props","dataSources","useRecoilValue","dataSourcesState","orgDataSources","orgDataSourcesState","useState","showAddDataSourceModal","setShowAddDataSourceModal","uniqueDataSources","concat","filter","orgDataSource","some","dataSource","uuid","style","width","display","textAlign","flex","borderColor","value","mode","options","map","label","name","placeholder","status","onChange","onClick","backgroundColor","color","FolderAddOutlined","AddDataSourceModal","open","handleCancelCb","dataSourceAddedCb","MuiCustomSelect","schema","default","inputValue","setInputValue","enumOptions","uiSchema","o","setOptions","useEffect","Autocomplete","noOptionsText","getOptionLabel","option","defaultValue","onInputChange","e","newValue","renderInput","params","TextField","variant","onKeyDown","key","findIndex","defaultTheme","createTheme","spacing","typography","fontSize","palette","slider","main","components","MuiTextField","defaultProps","styleOverrides","root","border","MuiInputBase","autoComplete","MuiPaper","fontFamily","MuiSlider","size","MuiSelect","select","MuiFormControl","padding","overflow","textOverflow","whiteSpace","margin","FieldTemplate","id","children","classNames","disabled","displayLabel","hidden","onDropPropertyClick","onKeyChange","readonly","required","rawErrors","errors","help","rawDescription","registry","isFocused","setIsFocused","uiOptions","getUiOptions","WrapIfAdditionalTemplate","getTemplate","FormControl","fullWidth","error","length","onFocus","onBlur","FormHelperText","focused","TextAreaWidget","BaseInputTemplate","rows","sx","multiline","CustomselectWidget","CustomFileWidget","ChatWidgetResponse","chat_message","content","ListItemText","primary","function_call","function_call_name","function_call_args","JSON","parse","arguments","fargs","Object","keys","join","secondary","ChatWidget","result","List","className","paddingTop","input","ListItem","flexDirection","alignItems","background","borderRadius","ListItemAvatar","Chip","role","TextWidget","ImageWidget","ImageList","cols","gap","item","ImageListItem","src","loading","alt","AudioWidget","controls","formData","submitBtn","theme","validator","templates","widgets","datasource","output_chat","output_text","output_image","output_audio","ThemeProvider","customselect","TextareaWidget","FileWidget","SCOPES","thumbsContainer","marginTop","extractFileInfo","dataURLs","dataURL","dataURItoBlob","blob","type","processDocument","document","Promise","resolve","reject","window","gapi","client","drive","supportedExportDocsMimeTypes","isGoogleDocument","hasOwnProperty","mimeType","exportMimeType","files","export","fileId","get","then","response","encodeURIComponent","btoa","body","catch","console","Error","GdriveFilePicker","multiple","oauthToken","setOauthToken","authClient","setAuthClient","processing","setProcessing","extractedFilesInfo","useMemo","Array","isArray","filesInfo","setFilesInfo","load","setApiKey","google","accounts","oauth2","initTokenClient","client_id","scope","callback","tokenResponse","access_token","pickerCallback","data","documents","action","picker","Action","PICKED","Response","DOCUMENTS","all","from","filesInfoEvent","fileInfo","maxFiles","thumbs","index","onDelete","newFilesInfo","splice","removeFile","Stack","justifyContent","LoadingButton","view","View","ViewId","DOCS","accepts","setMimeTypes","PickerBuilder","enableFeature","Feature","NAV_HIDDEN","setDeveloperKey","setAppId","setOAuthToken","addView","setCallback","build","setVisible","handleOpenPicker","revoke","Button","requestAccessToken","prompt","handleAuthClick","WebpageURLExtractorWidget","inputUrl","setInputUrl","split","urls","setUrls","isLoading","setIsLoading","setError","url_str","maxLength","target","InputProps","endAdornment","InputAdornment","position","url","axios","post","ArrowCircleDownOutlined","LinearProgress","dense","maxHeight","overflowY","secondaryAction","IconButton","newUrls","Delete","href","rel","CustomGdriveFileWidget","CustomWebpageURLExtractorWidget","modalTitle","dataSourceTypes","dataSourceTypesState","dataSourceName","setDataSourceName","dataSourceNameError","setDataSourceNameError","useRecoilState","setDataSources","dataSourceType","setDataSourceType","setFormData","reloadDataSourceEntries","useReloadDataSourceEntries","Dialog","onClose","DialogTitle","DialogContent","ButtonGroup","ThemedJsonForm","entry_config_schema","entry_config_ui_schema","norender","gdrive","webpageurls","DialogActions","entry_data","enqueueSnackbar","config","is_external_datasource","baseStyle","borderWidth","borderStyle","outline","transition","focusedStyle","acceptStyle","rejectStyle","addNameToDataURL","replace","processFile","file","reader","FileReader","onerror","onload","event","readAsDataURL","DropzoneFileWidget","useDropzone","accept","onDrop","acceptedFiles","maxSize","getRootProps","getInputProps","isDragAccept","isDragReject","prettyBytes","apiProvidersFetchSelector","selector","apiProviders","apiBackendsFetchSelector","apiBackends","endpointsFetchSelector","endpoints","dataSourcesFetchSelector","dataSourceTypesFetchSelector","apiProvidersState","atom","apiProviderDropdownListState","x","apiProviderSelectedState","apiBackendsState","apiBackendDropdownListState","organization","organizationState","apiBackend","disabled_api_backends","indexOf","provider","api_provider","apiBackendSelectedState","endpointsState","endpointSelectedState","version","draft","sort","a","b","created_on","api_backend","y","parent_uuid","z","description","backend","is_live","endpointTableDataState","endpoint","parentEndpoints","reduce","acc","entry","entry_map","versions","childEndpoints","i","push","values","endpointConfigValueState","templateValueState","inputValueState","profileFetchSelector","profile","profileState","isLoggedInState","promptHubState","profileFlagsState","IS_ORGANIZATION_MEMBER","dataSourceEntriesState","orgDataSourceEntriesState","dataSourceEntriesTableDataState","dataSourceEntries","profileFlags","isUserOwned","orgDataSourceEntries","privateDataSources","privateDataSourcesUUIDs","includes","datasource_entries_map","org_datasource_entries_map","data_source_entries","isMobileState","innerWidth","appsFetchSelector","apps","appsState","profileFlagsFetchSelector","organizationFetchSelector","caxios","axiosLib","xsrfCookieName","xsrfHeaderName","interceptors","use","location","pathname","startsWith","useReloadDataSources","useSetRecoilState","setDataSourceEntries"],"sourceRoot":""}